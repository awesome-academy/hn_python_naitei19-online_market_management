{% extends 'admin/home.html'%}
{% load static %}
{% load i18n %}
{%load djmoney%}
{% money_localize money on}

{% block content %}
<section class="slider_section ">
    <div class="container ">
        <div class="cart-container">
        <form method="post" action="{% url 'home:delete_products' %}">
        {% csrf_token %}
            <h1>{% trans "Products Manage" %}</h1>
        <table class="tablecate">
            <thead>
                <tr>
                  <th></th>
                  <th class="thprod">{% trans "Name" %}</th>
                  <th>{% trans "Category" %}</th>
                  <th>{% trans "Stock" %}</th>
                  <th>{% trans "Price" %}</th>
                </tr>
            </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td class="checkbox-column" ><input type="checkbox" name="product_ids" value="{{ product.id }}"></td>
                <td class="tdprod"><a href="{% url 'home:admin_product_detail' product.id %}">{% trans product.name %}</a></td>
                <td class="tdprod2">{{ product.category.name }}</td>
                <td>{{ product.number_in_stock }}</td>
                <td>{% money_localize product.base_price 'VND' %}</td>
            </tr>
            {% endfor %}
        </tbody>
        </table>
        {% if is_paginated %}
        <table class="tablepagi">
            <td class="tdpagi">
            {% if page_obj.has_previous %}
                <a href="{{ request.path }}?page={{ page_obj.previous_page_number}}">prev</a>
            {% endif %}</td>
            <td>
                <span class="page-current white-label">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
            </td>
            <td class="tdpagi">
            {% if page_obj.has_next %}
                <a href="{{ request.path }}?page={{ page_obj.next_page_number }}">next</a>
            {% endif %}</td>
        </table>
        {% endif %}<br>
            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-danger btn-block">{% trans 'Delete selected products' %}</button>
            </div>
        </form>
        <p class="mb-0">--------or--------</p>
        <form method="get" action="{% url 'home:admin_product_create' %}">
            <button type="submit" class="btn btn-success">{% trans 'Create new product' %}</button>
        </form>
        </div>
    </div>
</section>
{% endblock %}
